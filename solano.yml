# Use docker-enabled workers (currently private beta - contact support@solanolabs.com)
system:
  docker: true

hooks:
  pre_setup: |
    sudo add-apt-repository ppa:duggan/bats --yes
    sudo apt-get update -qq
    sudo apt-get install -qq bats
    sudo docker pull nginx
    sudo docker pull python:3
    sudo docker pull rancher/socat-docker
    sudo docker pull jwilder/docker-gen
    sudo docker build -t jwilder/nginx-proxy:bats . 

tests:
  - sudo bats test
